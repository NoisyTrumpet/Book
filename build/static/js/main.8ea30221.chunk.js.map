{"version":3,"sources":["resize.js","index.js"],"names":["window","addEventListener","resize","document","body","e","preventDefault","ratio","singleRatio","$","width","height","clientWidth","Math","round","singleHeight","padded","clientHeight","turn","css","console","log","size","Turn","handleKeyDown","event","keyCode","_this","el","this","Object","assign","props","options","remove","removeEventListener","_this2","react_default","a","createElement","className","style","ref","children","React","Component","defaultProps","autoCenter","display","acceleration","elevation","gradients","isTouch","when","turned","page","pages","Array","i","push","App","src_Turn","map","index","key","src","alt","rootElement","getElementById","ReactDOM","render","src_App"],"mappings":"kNAGAA,OAAOC,iBAAiB,OAAQC,GAChCF,OAAOC,iBAAiB,SAAUC,GAGlCC,SAASC,KAAKH,iBAAiB,YAAa,SAAUI,GAClDA,EAAEC,mBAMN,IAAIC,EAAQ,KACRC,EAAc,KAYlB,SAASN,IACLO,IAAE,aAAaC,MAAQ,MACvBD,IAAE,aAAaE,OAAS,MAExB,IAAID,EAAQP,SAASC,KAAKQ,YACtBD,EAASE,KAAKC,MAAMJ,EAAQH,GAC5BQ,EAAeF,KAAKC,MAAMJ,EAAQF,GAElCQ,EAASH,KAAKC,MAAmC,GAA7BX,SAASC,KAAKa,cA6BtC,OAzBIP,GAAS,KAETD,IAAE,aAAaS,KAAK,UAAW,UAC/BP,EAASI,EACTN,IAAE,aAAaU,IAAI,SAAU,SAG7BV,IAAE,aAAaS,KAAK,UAAW,UAGnCE,QAAQC,IAAIN,GAGRJ,EAASK,IACTL,EAASK,EACTN,EAAQG,KAAKC,MAAMH,EAASJ,GAC5BE,IAAE,YAAYU,IAAI,aAAc,gBAMpCV,IAAE,SAASC,MAAQA,EAAQ,KAC3BD,IAAE,SAASE,OAASA,EAAS,KAEtB,CACHD,MAAOA,EACPC,OAAQA,GAjDhBX,OAAOC,iBAAiB,OAAQ,SAAUI,GACtC,IAAIiB,EAAOpB,IACXO,IAAE,aAAaS,KAAK,OAAQI,EAAKZ,MAAOY,EAAKX,UAGjDX,OAAOC,iBAAiB,SAAU,SAAUI,GACxC,IAAIiB,EAAOpB,IACXO,IAAE,aAAaS,KAAK,OAAQI,EAAKZ,MAAOY,EAAKX,oBCd3CY,6MAwBJC,cAAgB,SAAAC,GACQ,KAAlBA,EAAMC,SACRjB,IAAEkB,EAAKC,IAAIV,KAAK,YAEI,KAAlBO,EAAMC,SACRjB,IAAEkB,EAAKC,IAAIV,KAAK,4FApBdW,KAAKD,IACPnB,IAAEoB,KAAKD,IAAIV,KAAKY,OAAOC,OAAO,GAAIF,KAAKG,MAAMC,UAE/C9B,SAASF,iBAAiB,UAAW4B,KAAKL,eAAe,kDAIrDK,KAAKD,IACPnB,IAAEoB,KAAKD,IACJV,KAAK,WACLgB,SAEL/B,SAASgC,oBAAoB,UAAWN,KAAKL,eAAe,oCAYrD,IAAAY,EAAAP,KACP,OACEQ,EAAAC,EAAAC,cAAA,OACEC,UAAWX,KAAKG,MAAMQ,UACtBC,MAAOX,OAAOC,OAAO,GAAIF,KAAKG,MAAMS,OACpCC,IAAK,SAAAd,GAAE,OAAKQ,EAAKR,GAAKA,IAErBC,KAAKG,MAAMW,iBAxCDC,IAAMC,WAAnBtB,EACGuB,aAAe,CACpBL,MAAO,GACPD,UAAW,GACXP,QAAS,IA8Db,IApBA,IAAMA,EAAU,CACdvB,MAAO,KACPC,OAAQ,IACRoC,YAAY,EACZC,QAAS,SACTC,cAAc,EACdC,UAAW,GACXC,WAAY1C,IAAE2C,QACdC,KAAM,CACJC,OAAQ,SAASjD,EAAGkD,GAClBnC,QAAQC,IAAI,iBAAkBZ,IAAEoB,MAAMX,KAAK,YAQ3CsC,EAAQ,IAAIC,MAEVC,EAAI,EAAGA,EAAI,IAAKA,IACtBF,EAAMG,KANI,wEAMQD,EAAI,QAGxB,IAAME,EAAM,WACV,OACEvB,EAAAC,EAAAC,cAACsB,EAAD,CAAM5B,QAASA,EAASO,UAAU,YAC/BgB,EAAMM,IAAI,SAACP,EAAMQ,GAAP,OACT1B,EAAAC,EAAAC,cAAA,OAAKyB,IAAKD,EAAOvB,UAAU,QACzBH,EAAAC,EAAAC,cAAA,OAAK0B,IAAKV,EAAMW,IAAK,gCAAiCH,SAO1DI,EAAchE,SAASiE,eAAe,QAC5CC,IAASC,OAAOjC,EAAAC,EAAAC,cAACgC,EAAD,MAASJ","file":"static/js/main.8ea30221.chunk.js","sourcesContent":["import React from 'react'\nimport $ from \"jquery\";\n\nwindow.addEventListener('load', resize);\nwindow.addEventListener('resize', resize);\n\n\ndocument.body.addEventListener('touchmove', function (e) {\n    e.preventDefault();\n    // e.stopPropagation();\n});\n\n\n\nvar ratio = 3.53;\nvar singleRatio = 1.77;\n\nwindow.addEventListener('load', function (e) {\n    var size = resize();\n    $('.magazine').turn('size', size.width, size.height);\n});\n\nwindow.addEventListener('resize', function (e) {\n    var size = resize();\n    $('.magazine').turn('size', size.width, size.height);\n});\n\nfunction resize() {\n    $('.magazine').width = '762';\n    $('.magazine').height = '431';\n\n    var width = document.body.clientWidth;\n    var height = Math.round(width / ratio);\n    var singleHeight = Math.round(width / singleRatio);\n\n    var padded = Math.round(document.body.clientHeight * 0.9);\n\n\n\n    if (width <= 762) {\n        \n        $('.magazine').turn('display', 'single');\n        height = singleHeight;\n        $('.page img').css('height', 'auto');\n    }\n    else {\n        $('.magazine').turn('display', 'double');\n    }\n\n    console.log(singleHeight)\n\n    // if the height is too big for the window, constrain it\n    if (height > padded) {\n        height = padded;\n        width = Math.round(height * ratio);\n        $('magazine').css('margin-top', '22.25% auto');\n    }\n\n    \n\n\n    $('.page').width = width + 'px';\n    $('.page').height = height + 'px';\n\n    return {\n        width: width,\n        height: height\n    };\n};","import $ from \"jquery\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n\nimport \"turn.js\";\n\nimport \"./resize.js\"\nimport \"./styles.css\";\n\nclass Turn extends React.Component {\n  static defaultProps = {\n    style: {},\n    className: \"\",\n    options: {}\n  };\n  \n\n  componentDidMount() {\n    if (this.el) {\n      $(this.el).turn(Object.assign({}, this.props.options));\n    }\n    document.addEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    if (this.el) {\n      $(this.el)\n        .turn(\"destroy\")\n        .remove();\n    }\n    document.removeEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  handleKeyDown = event => {\n    if (event.keyCode === 37) {\n      $(this.el).turn(\"previous\");\n    }\n    if (event.keyCode === 39) {\n      $(this.el).turn(\"next\");\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        style={Object.assign({}, this.props.style)}\n        ref={el => (this.el = el)}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst options = {\n  width: 1524,\n  height: 431,\n  autoCenter: true,\n  display: \"double\",\n  acceleration: true,\n  elevation: 50,\n  gradients: !$.isTouch,\n  when: {\n    turned: function(e, page) {\n      console.log(\"Current view: \", $(this).turn(\"view\"));\n    }\n  }\n};\n\nconst url = \"https://bookoffree.com/wp-content/themes/dt-the7-child/turn-js/pages/\";\n\n// eslint-disable-next-line\nconst pages = new Array;\n\nfor(var i = 1; i < 240; i++){\n  pages.push( url + i + \".jpg\");\n}\n\nconst App = () => {\n  return (\n    <Turn options={options} className=\"magazine\">\n      {pages.map((page, index) => (\n        <div key={index} className=\"page\">\n          <img src={page} alt={\"Book of Free See Inside Page:\"+ index} />\n        </div>\n      ))}\n    </Turn>\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}